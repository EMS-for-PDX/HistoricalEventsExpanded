


# Karling Collapse
hee_karling_867_effect = {	

	# Scopes #
	character:30228 = { save_scope_as = louis_the_younger } # https://en.wikipedia.org/wiki/Louis_II_of_Italy
	character:167894 = { save_scope_as = engelberga } # https://en.wikipedia.org/wiki/Engelberga
	character:163172 = { save_scope_as = gisele } # Gisela (852/855-before 28 April 868), Abbess of the Monastery of San Salvador of Brescia from the year 861.
	character:7982 = { save_scope_as = ermengard } # https://en.wikipedia.org/wiki/Ermengard_of_Italy
	character:163071 = { save_scope_as = adelchis } # https://en.wikipedia.org/wiki/Adelchis_of_Benevento
	character:163094 = { save_scope_as = sawdan } # https://en.wikipedia.org/wiki/Emirate_of_Bari#Rule_of_Sawdan
	
	character:71901 = { save_scope_as = berengar } # https://en.wikipedia.org/wiki/Berengar_I_of_Italy
	character:167889 = { save_scope_as = bertila } # https://en.wikipedia.org/wiki/Bertila_of_Spoleto
	character:71903 = { save_scope_as = guy } # https://en.wikipedia.org/wiki/Guy_III_of_Spoleto
	#character: Create the missing daughter of Adelchis of Benevento - future wife of Guy? = { save_scope_as = ageltrude } # https://en.wikipedia.org/wiki/Ageltrude
	
	character:144998 = { save_scope_as = lothaire } # https://en.wikipedia.org/wiki/Lothair_II
	character:168314 = { save_scope_as = waldrada } # https://en.wikipedia.org/wiki/Waldrada_of_Lotharingia
	character:6877 = { save_scope_as = teutberga } # https://en.wikipedia.org/wiki/Teutberga
	character:7853 = { save_scope_as = pope_nicholas } # https://en.wikipedia.org/wiki/Pope_Nicholas_I
	character:7852 = { save_scope_as = pope_hadrian } # https://en.wikipedia.org/wiki/Pope_Adrian_II
	
	character:90102 = { save_scope_as = hugh } # https://en.wikipedia.org/wiki/Hugh,_Duke_of_Alsace
	character:7920 = { save_scope_as = bertha } # https://en.wikipedia.org/wiki/Bertha,_daughter_of_Lothair_II
	character:163174 = { save_scope_as = irmgard } # Ermengarde (d. 90?)
	character:168315 = { save_scope_as = gisela } # Gisela (c. 865–908), who in 883 married Godfrey, the Viking leader ruling in Frisia, who was murdered in 885
	character:168336 = { save_scope_as = godfrid } # https://en.wikipedia.org/wiki/Godfrid,_Duke_of_Frisia
	
	character:90107 = { save_scope_as = ludwig_the_german } # https://en.wikipedia.org/wiki/Louis_the_German
	character:7987 = { save_scope_as = hemma } # https://en.wikipedia.org/wiki/Hemma
	character:42018 = { save_scope_as = karlmann } # https://en.wikipedia.org/wiki/Carloman_of_Bavaria
	character:42019 = { save_scope_as = ludwig_the_younger } # https://en.wikipedia.org/wiki/Louis_the_Younger
	character:90105 = { save_scope_as = karl_the_fat } # https://en.wikipedia.org/wiki/Charles_the_Fat
	character:7945 = { save_scope_as = arnulf } # https://en.wikipedia.org/wiki/Arnulf_of_Carinthia
	
	character:168593 = { save_scope_as = liutbert } # https://en.wikipedia.org/wiki/Liutbert_(archbishop_of_Mainz)
	
	character:7908 = { save_scope_as = otto } # https://en.wikipedia.org/wiki/Otto_I,_Duke_of_Saxony
	character:144957 = { save_scope_as = bruno } # https://en.wikipedia.org/wiki/Bruno,_Duke_of_Saxony
	character:7912 = { save_scope_as = hedwig } # https://en.wikipedia.org/wiki/Hedwig_of_Babenberg
	character:7954 = { save_scope_as = liutgard } # https://en.wikipedia.org/wiki/Liutgard_of_Saxony_(died_885)

	character:90104 = { save_scope_as = charles_the_bald } # https://en.wikipedia.org/wiki/Charles_the_Bald
	character:90123 = { save_scope_as = louis_the_stammerer } # https://en.wikipedia.org/wiki/Louis_the_Stammerer
	character:91385 = { save_scope_as = ansgarde_of_burgundy } # https://en.wikipedia.org/wiki/Ansgarde_of_Burgundy (Remarry her to Louis - their annulment did not happen until 874-875)
	character:90154 = { save_scope_as = louis_iii } # https://en.wikipedia.org/wiki/Louis_III_of_France
	character:90155 = { save_scope_as = carloman_ii } # https://en.wikipedia.org/wiki/Carloman_II
	character:168091 = { save_scope_as = adelaide_of_paris } # https://en.wikipedia.org/wiki/Adelaide_of_Paris
	character:42021 = { save_scope_as = carloman } # https://en.wikipedia.org/wiki/Carloman,_son_of_Charles_the_Bald
	character:90110 = { save_scope_as = judith } # https://en.wikipedia.org/wiki/Judith_of_Flanders
	character:163175 = { save_scope_as = ermentrud } # Ermentrud (854–877), a nun, Abbess of Hasnon
	character:163176 = { save_scope_as = hildegarde } # Hildegarde (born 856, died young)
	character:163177 = { save_scope_as = gisela_ii } # Gisela (857–874)
	character:163178 = { save_scope_as = rotrude } # Rotrude (852–912), a nun, Abbess of Saint-Radegunde
	# character: Create the missing daughter of Charles the Bald? = { save_scope_as = godehilde } # Godehilde (864–907)
	# character: Create the two missing daughters of Louis the Stammerer? = { save_scope_as =  } # Princess Hildegarde (born in 864) & Princess Gisela (865–884)

	character:90109 = { save_scope_as = baldwin_i_of_flanders } # https://en.wikipedia.org/wiki/Baldwin_I,_Margrave_of_Flanders

	character:31702 = { save_scope_as = adalard_the_seneschal } # https://en.wikipedia.org/wiki/Adalard_the_Seneschal

	character:6448 = { save_scope_as = odo_of_france } # https://en.wikipedia.org/wiki/Odo_of_France
	character:6442 = { save_scope_as = robert_of_france } # https://en.wikipedia.org/wiki/Robert_I_of_France
	character:242 = { save_scope_as = rollo } # https://en.wikipedia.org/wiki/Rollo


	title:k_italy = { save_scope_as = k_italy }
	title:k_east_francia = { save_scope_as = k_east_francia }
	title:k_france = { save_scope_as = k_france }

	# House-keeping #
	character:31702 = { give_nickname = nick_the_seneschal }

	character:90109 = { give_nickname = nick_the_iron }

	scope:charles_the_bald = {
		add_opinion = {
			target = scope:baldwin_i_of_flanders
			modifier = elopement_non_imprisionment_opinion
		}
	}

	scope:charles_the_bald = {
		add_opinion = {
			target = scope:judith
			modifier = elopement_non_imprisionment_opinion
		}
	}

	# Italy #

	character:30228 = { # Louis the Younger
		add_character_modifier = western_roman_emperor_modifier
	}

	# Francia #
	
	# Despite being Robert's opponent during his life, after his death Hugh became the guardian of Robert's children.
	character:168246 = {
		give_nickname = nick_the_abbot
		set_relation_ward = scope:odo_of_france
		set_relation_ward = scope:robert_of_france
	}

	# If Charles the Bald could be said to have a capital, it would be Compiègne
	character:90104 = {
		set_realm_capital = title:c_valois
	}

	# Gameplay impact of the Treaty of Coulaines (https://en.wikipedia.org/wiki/Treaty_of_Coulaines)
	if = {
		limit = { exists = title:k_france.holder }
		title:k_france.holder = {
			every_vassal = {
				limit = {
					vassal_contract_has_modifiable_obligations = yes
				}
				vassal_contract_decrease_obligation_level = feudal_government_taxes
				vassal_contract_decrease_obligation_level = feudal_government_levies
				set_vassal_contract_modification_blocked = no
			}
		}
	}

	# Removal of female-inherited claims
	character:71901 = { # Berengar of Italy
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:163057 = { # Unruoch of Friuli
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:167792 = { # Adalhard of Ravensburg
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:168183 = { # Rudolf of Guines
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:168082 = { # Eberhard Chatenois
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}
	
	character:168055 = { # Geraud de Poitiers
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}
	
	character:167765 = { # Oda Billung
		remove_claim = scope:k_italy
	}
	
	character:7911 = { # Ingeltrude Unruochinger
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:7816 = { # Judith Unruochinger
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}
	
	character:168065 = { # Heylwig Unruochinger
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}

	character:6449 = { # Bertha Robertine
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}
	
	character:7814 = { # Ermengarde of Italy
		remove_claim = scope:k_italy
		remove_claim = scope:k_east_francia
		remove_claim = scope:k_france
	}


	# Truces to represent the Divisio regni 
	scope:ludwig_the_german = {
		add_truce_both_ways = {
			character = scope:karlmann
			days = 10950
			name = divisio_regni_desc
		}
	}

	scope:ludwig_the_german = {
		add_truce_both_ways = {
			character = scope:ludwig_the_younger
			days = 10950
			name = divisio_regni_desc
		}
	}
	
	scope:ludwig_the_german = {
		add_truce_both_ways = {
			character = scope:karl_the_fat
			days = 10950
			name = divisio_regni_desc
		}
	}
}


















# Great Moravia - Bohemia
hee_great_moravia_bohemia_867_effect = {	

	# Scopes #
	character:187002 = { save_scope_as = king_rastislav } # https://en.wikipedia.org/wiki/Rastislav_of_Moravia
	character:187003 = { save_scope_as = svatopluk_i } # https://en.wikipedia.org/wiki/Svatopluk_I_of_Moravia
	character:187006 = { save_scope_as = mojmir_ii } # https://en.wikipedia.org/wiki/Mojmir_II_of_Moravia
	character:187007 = { save_scope_as = svatopluk_ii } # https://en.wikipedia.org/wiki/Svatopluk_II
	character:187008 = { save_scope_as = predslav } # https://en.wikipedia.org/wiki/Predslav

	character:HEE_missionary_01 = { save_scope_as = methodius } # https://en.wikipedia.org/wiki/Cyril_and_Methodius
	character:HEE_missionary_02 = { save_scope_as = cyril } # https://en.wikipedia.org/wiki/Cyril_and_Methodius
	
	character:168351 = { save_scope_as = neklan } # https://en.wikipedia.org/wiki/Neklan
	character:168352 = { save_scope_as = hostivit } # https://en.wikipedia.org/wiki/Hostiv%C3%ADt
	character:500 = { save_scope_as = borivoj_i } # https://en.wikipedia.org/wiki/Bo%C5%99ivoj_I,_Duke_of_Bohemia
	character:501 = { save_scope_as = ludmila } # https://en.wikipedia.org/wiki/Ludmila_of_Bohemia
	
	culture:radhanite = { save_scope_as = radhanite }
	culture:khazar = { save_scope_as = khazar }
	culture:slovien = { save_scope_as = slovien }

}























# Byzantines 
hee_byzantine_bulgaria_867_effect = {	

	# Scopes
	character:70490 = { save_scope_as = michael_iii } # https://en.wikipedia.org/wiki/Michael_III
	character:1761 = { save_scope_as = eudokia_ingerina } # https://en.wikipedia.org/wiki/Eudokia_Ingerina
	
	character:1700 = { save_scope_as = basil } # https://en.wikipedia.org/wiki/Basil_I
	character:1702 = { save_scope_as = leon } # https://en.wikipedia.org/wiki/Leo_VI_the_Wise
	
	character:70554 = { save_scope_as = patriarch_photios } # https://en.wikipedia.org/wiki/Photios_I_of_Constantinople
	character:70555 = { save_scope_as = patriarch_ignatios } # https://en.wikipedia.org/wiki/Ignatios_of_Constantinople
	
	character:145198 = { save_scope_as = leo_choirosphaktes } # https://en.wikipedia.org/wiki/Leo_Choirosphaktes
	
	character:41316 = { save_scope_as = nikephoros_the_elder } # https://en.wikipedia.org/wiki/Nikephoros_Phokas_the_Elder
	
	character:70382 = { save_scope_as = boris_i } # https://en.wikipedia.org/wiki/Boris_I_of_Bulgaria
	character:70383 = { save_scope_as = vladimir_raste } # https://en.wikipedia.org/wiki/Vladimir_of_Bulgaria
	character:712 = { save_scope_as = simeon_i } # https://en.wikipedia.org/wiki/Simeon_I_of_Bulgaria

	character:HEE_chrysocheir = { save_scope_as = chrysocheir } # https://en.wikipedia.org/wiki/Chrysocheir

	character:163147 = { save_scope_as = ibrahim_ii } # https://en.wikipedia.org/wiki/Ibrahim_II_of_Ifriqiya
	
	faith:orthodox = { save_scope_as = orthodox }
	faith:tengri_pagan = { save_scope_as = tengri }
	
	
	# Relations
	if = { #If SE is loaded, give Basil Co-Emperor position
		limit = {
			exists = global_var:SE_is_loaded
		}
		character:70490 = {
			appoint_court_position = {
				recipient = scope:basil
				court_position = succ_exp_co_emperor_court_position
			}
		}
		character:1700 = {
			remove_character_modifier = byzantine_coemperor_modifier
		}
	}

	# When Michael III started to favour another courtier, Basiliskianos, Basil decided that his position was being undermined. Michael threatened to invest Basiliskianos with the Imperial title 
	character:1700 = {
		add_opinion = {
			target = character:70490
			modifier = insulted_opinion
			opinion = -20
		}
		add_opinion = {
			target = character:70490
			modifier = spurned_opinion
			opinion = -20
		}
		add_opinion = {
			target = character:70490
			modifier = envy_opinion
			opinion = -50
		}
	}
	
	scope:leon = {
		set_real_father = scope:michael_iii
	}
	
	character:70490 = {
		add_opinion = {
			target = character:1702
			modifier = truly_of_my_blood_opinion
			opinion = 100
		}
	}

	# character:1761 = {
		# trigger_event = {
			# id = pregnancy.2002
			# days = { 30 60 }
		# }
	# }
	
}







# Anarchy at Samarra
hee_samarra_relations_867_effect = {	

	# Scopes
	character:34014 = { save_scope_as = al_mutazz } # https://en.wikipedia.org/wiki/Al-Mu%27tazz
	character:34015 = { save_scope_as = al_muhtadi } # https://en.wikipedia.org/wiki/Al-Muhtadi
	character:34016 = { save_scope_as = al_mutamid } # https://en.wikipedia.org/wiki/Al-Mu%27tamid
	character:34017 = { save_scope_as = al_muwaffaq } # https://en.wikipedia.org/wiki/Al-Muwaffaq
	character:34018 = { save_scope_as = al_mutadid } # https://en.wikipedia.org/wiki/Al-Mu%27tadid
	
	character:turkish000007 = { save_scope_as = wasif_al_turki } # https://en.wikipedia.org/wiki/Wasif_al-Turki
	character:turkish000008 = { save_scope_as = salih_ibn_wasif } # https://en.wikipedia.org/wiki/Salih_ibn_Wasif
	character:163131 = { save_scope_as = bugha_al_sharabi } # https://en.wikipedia.org/wiki/Bugha_al-Sharabi
	character:163132 = { save_scope_as = musa_bughoglu } # https://en.wikipedia.org/wiki/Musa_ibn_Bugha_al-Kabir
	
	# Create an uprising in  Fars around this character? https://en.wikipedia.org/wiki/Muhammad_ibn_Wasil
	
	title:d_kermanshah = { save_scope_as = d_kermanshah }
	title:c_kermanshah = { save_scope_as = c_kermanshah }
	title:c_masabadhan = { save_scope_as = c_masabadhan }
	title:c_saimara = { save_scope_as = c_saimara }
	
	title:d_hamadan = { save_scope_as = d_hamadan }
	title:c_hamadan = { save_scope_as = c_hamadan }
	title:c_dinawar = { save_scope_as = c_dinawar }
	title:c_nihawand = { save_scope_as = c_nihawand }
	
	# Relations	
	character:34014 = { # Al-Mutazz
		add_trait = murderer
		
		add_character_modifier = anarchy_at_samarra_financial_straits
		add_character_modifier = anarchy_at_samarra_loss_of_central_authority
		add_character_modifier = anarchy_at_samarra_unpaid_soldiery
	}

	character:163131 = {	
		spawn_turkic_troops_effect = yes
	}
	character:163132 = {	
		spawn_turkic_troops_effect = yes
	}
	character:turkish000007 = {	
		spawn_turkic_troops_effect = yes
	}
}









# Iranian Intermezzo
hee_iranian_intermezzo_effect = {	

	# Scopes
	character:163099 = { save_scope_as = nasr_i } # https://en.wikipedia.org/wiki/Nasr_I
	character:163157 = { save_scope_as = ismail_samani } # https://en.wikipedia.org/wiki/Ismail_Samani

	character:163100 = { save_scope_as = muhammad_ibn_tahir } # https://en.wikipedia.org/wiki/Muhammad_ibn_Tahir
	character:1000230509 = { save_scope_as = muhammad_ibn_abdallah } # https://en.wikipedia.org/wiki/Muhammad_ibn_Abdallah_ibn_Tahir
	character:163160 = { save_scope_as = ubaydallah_ibn_abdallah } # https://en.wikipedia.org/wiki/Ubaydallah_ibn_Abdallah_ibn_Tahir
	character:163161 = { save_scope_as = sulayman_ibn_abdallah } # https://en.wikipedia.org/wiki/Sulayman_ibn_Abdallah_ibn_Tahir

	character:sogdian0008 = { save_scope_as = abilsaj_devdad } # https://en.wikipedia.org/wiki/Abu%27l-Saj_Devdad
	character:sogdian0009 = { save_scope_as = muhammad_ibn_abilsaj } # https://en.wikipedia.org/wiki/Muhammad_ibn_Abi%27l-Saj
	character:sogdian0010 = { save_scope_as = yusuf_ibn_abilsaj } # https://en.wikipedia.org/wiki/Yusuf_ibn_Abi%27l-Saj

	character:166987 = { save_scope_as = ziyarid_founder } # https://en.wikipedia.org/wiki/Ziyarid_dynasty

	character:1231060 = { save_scope_as = buyid_founder } # https://en.wikipedia.org/wiki/Buyid_dynasty

	character:180764 = { save_scope_as = sallarid_founder } # https://en.wikipedia.org/wiki/Sallarid_dynasty
	
}















hee_fairhair_867_effect = {

	# Scopes #
	character:144000 = { save_scope_as = haraldr_fairhair } # https://en.wikipedia.org/wiki/Harald_Fairhair
	character:6862 = { save_scope_as = ragnhild_the_mighty } # https://en.wikipedia.org/wiki/Ragnhild_the_Mighty
	
	character:6866 = { save_scope_as = jute_king_eirikr } # https://en.wikipedia.org/wiki/Ragnhild_the_Mighty
	
	character:166044 = { save_scope_as = gyda } # https://en.wikipedia.org/wiki/Gyda_Eiriksdatter
	character:166329 = { save_scope_as = king_eirikr } # https://en.wikipedia.org/wiki/Eirik_of_Hordaland
	
	character:161301 = { save_scope_as = eystein } # https://en.wikipedia.org/wiki/Eystein_Glumra
	character:161302 = { save_scope_as = rognvald_eysteinsson } # https://en.wikipedia.org/wiki/Rognvald_Eysteinsson
	character:161303 = { save_scope_as = sigurd_eysteinsson } # https://en.wikipedia.org/wiki/Sigurd_Eysteinsson
	
	character:186003 = { save_scope_as = hakon_grjotgardsson } # https://en.wikipedia.org/wiki/H%C3%A5kon_Grjotgardsson

	character:186011 = { save_scope_as = kjotve_the_rich } # https://en.wikipedia.org/wiki/Kjotve_the_Rich
	character:186012 = { save_scope_as = thorir_haklang } # Thorir Haklang was a berserker who fell during the Battle of Hafrsfjord.

	character:144000 = { # Harald Fairhair
		if = {
			limit = {
				is_alive = yes
				has_character_modifier = harald_tanglehairs_vow_modifier
			}
			remove_nickname = yes
			remove_character_modifier = harald_tanglehairs_vow_modifier
			}
			
		if = {
			limit = {
				is_ai = yes
				NOT = { has_character_flag = prevented_from_raiding }
			}
			add_character_flag = {
				flag = prevented_from_raiding
				days = 400
			}
		}
		
		add_character_flag = {
			flag = immune_to_disease
			years = 10
		}
	}
		
	character:166044 = { # Gyda Eiriksdatter

		add_trait = unwed

		add_character_flag = {
			flag = immune_to_disease
			years = 10
		}
	}

	character:6862 = { # Ragnhild the Mighty
		add_trait = unwed
	}
}

hee_baltic_867_effect = {

	# Scopes #
	character:167855 = { save_scope_as = domagoj_of_croatia } # https://en.wikipedia.org/wiki/Domagoj_of_Croatia
	character:167856 = { save_scope_as = iljko_of_croatia } # https://en.wikipedia.org/wiki/Iljko_of_Croatia
	character:167857 = { save_scope_as = branimir_of_croatia } # https://en.wikipedia.org/wiki/Branimir_of_Croatia
	
	character:8601 = { save_scope_as = zdeslav_of_croatia } # https://en.wikipedia.org/wiki/Zdeslav_of_Croatia
	character:8602 = { save_scope_as = petar_of_croatia } # https://en.wikipedia.org/wiki/Trpimir_I_of_Croatia#Descendants
	character:8603 = { save_scope_as = muncimir_of_croatia } # https://en.wikipedia.org/wiki/Muncimir_of_Croatia

	character:163116 = { save_scope_as = mutimir_of_serbia } # https://en.wikipedia.org/wiki/Mutimir_of_Serbia

	character:184026 = { save_scope_as = doge_orso_i_participazio } # https://en.wikipedia.org/wiki/Orso_I_Participazio

	character:70490 = { save_scope_as = michael_iii } # https://en.wikipedia.org/wiki/Michael_III


	title:c_gacka = { save_scope_as = c_gacka }
	title:c_lika = { save_scope_as = c_lika }
	title:c_knin = { save_scope_as = c_knin }

	# After his father's death in 864, an uprising was launched that saw Zdeslav, Petar, and Muncimir exilied to Constantinople.
	scope:michael_iii = {
		add_courtier = scope:zdeslav_of_croatia
		add_courtier = scope:petar_of_croatia
		add_courtier = scope:muncimir_of_croatia
	}

	# In 865, Domagoj was forced to make an unfavourable peace with Venice, giving hostages as a guarantee for safe passage of Venetian ships in the Adriatic.
	scope:doge_orso_i_participazio = {
		add_truce_both_ways = {
			character = scope:domagoj_of_croatia
			days = 1095
			name = unfavourable_peace_venice_croatia_desc
		}
	}
	
	scope:domagoj_of_croatia = {
		add_opinion = {
			target = scope:doge_orso_i_participazio
			modifier = declared_war
			opinion = -30
		}
	}

	scope:doge_orso_i_participazio = {
		add_unpressed_claim = scope:c_gacka
		add_unpressed_claim = scope:c_lika
		add_unpressed_claim = scope:c_knin
	}


	# Aftermath of Aghlabid raids in Dalmatia
	province:3573 = { save_scope_as = b_risan }
	province:3574 = { save_scope_as = b_cattaro }
	province:3575 = { save_scope_as = b_antivari }
	province:3576 = { save_scope_as = b_ulcinj }
	
	title:c_pomorje = { save_scope_as = c_pomorje }
	title:c_travunia = { save_scope_as = c_travunia }

	scope:c_pomorje = {
		change_county_control = massive_county_control_loss
	}
	scope:c_travunia = {
		change_county_control = massive_county_control_loss
	}
	
	scope:b_risan = {
		add_province_modifier = {
			modifier = hee_867_aghlabid_dalmatia_raids_modifier
			days = 1825
		}
	}
	scope:b_cattaro = {
		add_province_modifier = {
			modifier = hee_867_aghlabid_dalmatia_raids_modifier
			days = 1825
		}
	}
	scope:b_antivari = {
		add_province_modifier = {
			modifier = hee_867_aghlabid_dalmatia_raids_modifier
			days = 1825
		}
	}
	scope:b_ulcinj = {
		add_province_modifier = {
			modifier = hee_867_aghlabid_dalmatia_raids_modifier
			days = 1825
		}
	}

}

hee_north_sea_867_effect = {

	# Scopes #
	character:242 = { save_scope_as = rollo } # https://en.wikipedia.org/wiki/Rollo
	
	character:168650 = { save_scope_as = guthrum } # https://en.wikipedia.org/wiki/Guthrum
	
	character:163112 = { save_scope_as = halfdan } #

	character:163112 = { # Halfdan
		change_government = tribal_government
	}
	
	character:242 = { # Rollo
		add_character_flag = {
			flag = immune_to_disease
			years = 50
		}
	}
	
	character:168650 = { # Guthrum
		add_character_flag = {
			flag = immune_to_disease
			years = 10
		}
	}

	# Viking Settlement in 
	
	# Aftermath of Viking raids in Francia
	province:2181 = { save_scope_as = b_mantes }
	province:2190 = { save_scope_as = b_beaumont }

	province:2333 = { save_scope_as = b_paris }
	province:2356 = { save_scope_as = b_saint_dennis }
	province:2357 = { save_scope_as = b_montreuil }

	province:2354 = { save_scope_as = b_melun }

	title:c_beaumont = { save_scope_as = c_beaumont }
	title:c_ile_de_france = { save_scope_as = c_ile_de_france }
	title:c_brie_francaise = { save_scope_as = c_brie_francaise }

	scope:c_beaumont = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_ile_de_france = {
		change_development_level = -5
		change_county_control = massive_county_control_loss
	}
	scope:c_brie_francaise = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	
	scope:b_mantes = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_beaumont = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_paris = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_saint_dennis = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_saint_dennis = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_montreuil = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_melun = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	
	province:2261 = { save_scope_as = b_saumur }
	province:2267 = { save_scope_as = b_angers }

	province:2274 = { save_scope_as = b_tours }
	province:2275 = { save_scope_as = b_loches }
	province:2319 = { save_scope_as = b_blois }

	province:2320 = { save_scope_as = b_beaugency }
	province:2338 = { save_scope_as = b_orleans }

	province:2264 = { save_scope_as = b_sable }
	province:2270 = { save_scope_as = b_le_mans }

	province:2252 = { save_scope_as = b_poitiers }
	province:2249 = { save_scope_as = b_lusignan }
	province:2250 = { save_scope_as = b_melle }
	province:2257 = { save_scope_as = b_thouars }

	province:2284 = { save_scope_as = b_bellac }

	province:2147 = { save_scope_as = b_la_rochelle }
	province:2244 = { save_scope_as = b_angouleme }
	province:2245 = { save_scope_as = b_saint_junien }
	province:2262 = { save_scope_as = b_cognac }

	title:c_anjou = { save_scope_as = c_anjou }
	title:c_saumur = { save_scope_as = c_saumur }
	title:c_maine = { save_scope_as = c_maine }
	title:c_sable = { save_scope_as = c_sable }

	title:c_tourraine = { save_scope_as = c_tourraine }
	title:c_blois = { save_scope_as = c_blois }

	title:c_orleans = { save_scope_as = c_orleans }

	title:c_poitiers = { save_scope_as = c_poitiers }
	title:c_lusignan = { save_scope_as = c_lusignan }
	title:c_thouars = { save_scope_as = c_thouars }

	title:c_bellac = { save_scope_as = c_bellac }

	title:c_aunis = { save_scope_as = c_aunis }
	title:c_angouleme = { save_scope_as = c_angouleme }

	scope:c_anjou = {
		change_development_level = -2
		change_county_control = peasant_war_victory_county_control_loss
	}
	scope:c_saumur = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_maine = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_sable = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}

	scope:c_tourraine = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_blois = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}

	scope:c_orleans = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}

	scope:c_poitiers = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_lusignan = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}
	scope:c_thouars = {
		change_development_level = -2
		change_county_control = massive_county_control_loss
	}

	scope:c_bellac = {
		change_development_level = -1
		change_county_control = medium_county_control_loss
	}

	scope:c_aunis = {
		change_development_level = -1
		change_county_control = medium_county_control_loss
	}
	scope:c_angouleme = {
		change_development_level = -2
		change_county_control = medium_county_control_loss
	}
	
	scope:b_saumur = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_angers = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_tours = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_loches = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_blois = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_beaugency = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_orleans = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_sable = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_le_mans = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_poitiers = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_bellac = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_lusignan = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_melle = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_thouars = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_la_rochelle = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_angouleme = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_saint_junien = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
	scope:b_cognac = {
		add_province_modifier = {
			modifier = hee_867_viking_raids_in_france_modifier
			days = 1825
		}
	}
}

hee_brittany_867_effect = {
	character:163105 = { save_scope_as = salomon } # https://en.wikipedia.org/wiki/Salomon,_King_of_Brittany
	character:HEE_guenebret_of_brittany = { save_scope_as = HEE_guenebret_of_brittany } #
	character:159651 = { save_scope_as = riwallon } # http://fmg.ac/Projects/MedLands/BRITTANY.htm#_Toc480020737
	character:159698 = { save_scope_as = alan_not_so_great } # WHO IS THIS???

	character:50010 = { save_scope_as = ridoredh_of_vannes } #
	character:50009 = { save_scope_as = pascweten } # https://en.wikipedia.org/wiki/Pascweten
	character:50008 = { save_scope_as = alan_i } # https://en.wikipedia.org/wiki/Alan_I,_King_of_Brittany

	character:159696 = { save_scope_as = gurvand } # https://en.wikipedia.org/wiki/Gurvand
	character:91246 = { save_scope_as = judicael } # https://en.wikipedia.org/wiki/Judicael,_Duke_of_Brittany
	character:160076 = { save_scope_as = berengar_ii_of_neustria } # https://en.wikipedia.org/wiki/Berengar_II_of_Neustria

	character:6878 = { save_scope_as = hastein } # https://en.wikipedia.org/wiki/Hastein

	character:90104 = { save_scope_as = charles_the_bald } # https://en.wikipedia.org/wiki/Charles_the_Bald
	character:90123 = { save_scope_as = louis_the_stammerer } # https://en.wikipedia.org/wiki/Louis_the_Stammerer
	character:91385 = { save_scope_as = ansgarde_of_burgundy } # https://en.wikipedia.org/wiki/Ansgarde_of_Burgundy (Remarry her to Louis - their annulment did not happen until 874-875)
	character:90154 = { save_scope_as = louis_iii } # https://en.wikipedia.org/wiki/Louis_III_of_France
	character:90155 = { save_scope_as = carloman_ii } # https://en.wikipedia.org/wiki/Carloman_II
	character:168091 = { save_scope_as = adelaide_of_paris } # https://en.wikipedia.org/wiki/Adelaide_of_Paris
	character:42021 = { save_scope_as = carloman } # https://en.wikipedia.org/wiki/Carloman,_son_of_Charles_the_Bald
	character:90110 = { save_scope_as = judith } # https://en.wikipedia.org/wiki/Judith_of_Flanders
	character:163175 = { save_scope_as = ermentrud } # Ermentrud (854–877), a nun, Abbess of Hasnon
	character:163176 = { save_scope_as = hildegarde } # Hildegarde (born 856, died young)
	character:163177 = { save_scope_as = gisela_ii } # Gisela (857–874)
	character:163178 = { save_scope_as = rotrude } # Rotrude (852–912), a nun, Abbess of Saint-Radegunde

	character:159651 = { # Prince Riwallon
		set_mother = scope:HEE_guenebret_of_brittany
	}

	# Hastein set to Tribal government
	character:6878 = {
		change_government = tribal_government
	}

	# Alliance between Hastein and Salomon
	character:163105 = {
		create_alliance = scope:hastein
		add_opinion = {
			target = scope:hastein
			modifier = perk_negotiated_alliance_opinion
		}
		add_truce_both_ways = {
			character = scope:hastein
			days = 1825
			name = breton_viking_alliance_desc
		}
	}

	# Charles the Bald's opinion of Salomon is lessen due to war
	scope:charles_the_bald = {
		add_opinion = {
			target = scope:salomon
			modifier = declared_war
		}
	}
}